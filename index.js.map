{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * XTRIUM PORT - CORE SYSTEM 2026\n * Платформа: AI для обычных людей\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    // --- 1. ЗАГРУЗКА ЗАВИСИМОСТЕЙ ---\n    const loadDependencies = async () => {\n        const libs = [\n            'https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js',\n            'https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js',\n            'https://unpkg.com/split-type',\n            'https://unpkg.com/lucide@latest'\n        ];\n\n        for (const src of libs) {\n            await new Promise(resolve => {\n                const script = document.createElement('script');\n                script.src = src;\n                script.onload = resolve;\n                document.head.appendChild(script);\n            });\n        }\n        \n        // Старт системы после загрузки всех скриптов\n        initCore();\n    };\n\n    function initCore() {\n        lucide.createIcons();\n        gsap.registerPlugin(ScrollTrigger);\n\n        initHeader();\n        initMobileMenu();\n        initHero();\n        initScrollAnimations();\n        initGlowCards();\n        initFloatTools();\n        initContactForm();\n        initCookies();\n    }\n\n    // --- 2. ХЕДЕР И МОБИЛЬНОЕ МЕНЮ ---\n    function initHeader() {\n        const headerWrapper = document.querySelector('.header__wrapper');\n        window.addEventListener('scroll', () => {\n            if (window.scrollY > 30) {\n                headerWrapper.style.padding = '8px 24px';\n                headerWrapper.style.background = 'rgba(255, 255, 255, 0.95)';\n                headerWrapper.style.boxShadow = '0 15px 50px rgba(5, 10, 31, 0.12)';\n            } else {\n                headerWrapper.style.padding = '12px 32px';\n                headerWrapper.style.background = 'rgba(255, 255, 255, 0.85)';\n                headerWrapper.style.boxShadow = '0 10px 40px rgba(5, 10, 31, 0.05)';\n            }\n        });\n    }\n\n    function initMobileMenu() {\n        const burger = document.getElementById('burger');\n        const menu = document.getElementById('mobile-menu');\n        const links = document.querySelectorAll('.mobile-menu__link');\n\n        if (!burger || !menu) return;\n\n        const toggleMenu = () => {\n            burger.classList.toggle('is-active');\n            menu.classList.toggle('is-active');\n            document.body.style.overflow = menu.classList.contains('is-active') ? 'hidden' : '';\n        };\n\n        burger.addEventListener('click', toggleMenu);\n        links.forEach(link => link.addEventListener('click', toggleMenu));\n    }\n\n    // --- 3. ГЛАВНАЯ СЕКЦИЯ (HERO) ---\n    function initHero() {\n        const heroTitle = document.querySelector('#hero-title');\n        if (!heroTitle) return;\n\n        // Разделяем текст (words — чтобы не разрывались слова, chars — для анимации букв)\n        const text = new SplitType(heroTitle, { types: 'words, chars' });\n        \n        const tl = gsap.timeline({ defaults: { ease: 'power4.out' } });\n\n        tl.to('.reveal', { \n            opacity: 1, \n            y: 0, \n            duration: 1, \n            stagger: 0.1, \n            delay: 0.3 \n        })\n        .from(text.chars, { \n            opacity: 0, \n            y: 30, \n            rotateX: -90, \n            stagger: 0.02, \n            duration: 1 \n        }, \"-=0.8\");\n\n        // Интерактив карточки в Hero\n        const card = document.querySelector('.hero__card');\n        if (card) {\n            window.addEventListener('mousemove', (e) => {\n                const x = (e.clientX / window.innerWidth - 0.5) * 20;\n                const y = (e.clientY / window.innerHeight - 0.5) * 20;\n                gsap.to(card, { \n                    rotationY: x, \n                    rotationX: -y, \n                    duration: 1, \n                    ease: \"power2.out\" \n                });\n            });\n        }\n    }\n\n    // --- 4. АНИМАЦИИ ПРИ СКРОЛЛЕ ---\n    function initScrollAnimations() {\n        const revealElements = document.querySelectorAll('.reveal-scroll');\n        \n        revealElements.forEach(el => {\n            gsap.to(el, {\n                scrollTrigger: {\n                    trigger: el,\n                    start: 'top 85%',\n                    toggleActions: 'play none none none'\n                },\n                opacity: 1,\n                y: 0,\n                duration: 1,\n                ease: \"power3.out\"\n            });\n        });\n    }\n\n    // --- 5. ЭФФЕКТ СВЕЧЕНИЯ (GLOW) ---\n    function initGlowCards() {\n        const cards = document.querySelectorAll('.about-card');\n        cards.forEach(card => {\n            card.addEventListener('mousemove', (e) => {\n                const rect = card.getBoundingClientRect();\n                card.style.setProperty('--mouse-x', `${e.clientX - rect.left}px`);\n                card.style.setProperty('--mouse-y', `${e.clientY - rect.top}px`);\n            });\n        });\n    }\n\n    // --- 6. ИННОВАЦИИ (ЛЕВИТАЦИЯ И ПАРАЛЛАКС) ---\n    function initFloatTools() {\n        const tools = document.querySelectorAll('.float-el');\n        const wrapper = document.querySelector('.innovations__wrapper');\n\n        // Постоянное парение\n        tools.forEach((tool, i) => {\n            gsap.to(tool, {\n                y: \"random(-15, 15)\",\n                x: \"random(-10, 10)\",\n                duration: `random(2, 4)`,\n                repeat: -1,\n                yoyo: true,\n                ease: \"sine.inOut\",\n                delay: i * 0.1\n            });\n        });\n\n        // Параллакс за мышкой\n        if (wrapper && window.innerWidth > 992) {\n            wrapper.addEventListener('mousemove', (e) => {\n                const x = (e.clientX / window.innerWidth - 0.5) * 40;\n                const y = (e.clientY / window.innerHeight - 0.5) * 40;\n                tools.forEach(tool => {\n                    const speed = tool.dataset.speed || 2;\n                    gsap.to(tool, {\n                        x: x * (speed / 5),\n                        y: y * (speed / 5),\n                        duration: 1\n                    });\n                });\n            });\n        }\n    }\n\n    // --- 7. ФОРМА КОНТАКТОВ И КАПЧА ---\n    function initContactForm() {\n        const form = document.getElementById('contact-form');\n        const phone = document.getElementById('phone-input');\n        const q = document.getElementById('captcha-question');\n        const a = document.getElementById('captcha-answer');\n        const success = document.getElementById('form-success');\n\n        if (!form) return;\n\n        // Генерация примера\n        const n1 = Math.floor(Math.random() * 9) + 1;\n        const n2 = Math.floor(Math.random() * 9) + 1;\n        const sum = n1 + n2;\n        if (q) q.innerText = `${n1} + ${n2}`;\n\n        // Только цифры в телефоне\n        phone.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/[^\\d]/g, '');\n        });\n\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n\n            if (parseInt(a.value) !== sum) {\n                alert('Ошибка: Решите пример правильно.');\n                return;\n            }\n\n            const btn = form.querySelector('button');\n            const originalText = btn.innerText;\n            btn.innerText = 'Интеграция...';\n            btn.disabled = true;\n\n            // Имитация отправки\n            setTimeout(() => {\n                gsap.to(form.querySelectorAll('.form__group, .form__captcha, .form__consent, .btn'), {\n                    opacity: 0,\n                    y: -20,\n                    stagger: 0.1,\n                    onComplete: () => {\n                        success.style.display = 'flex';\n                        gsap.fromTo(success, \n                            { opacity: 0, scale: 0.8 }, \n                            { opacity: 1, scale: 1, duration: 0.5, ease: \"back.out\" }\n                        );\n                        lucide.createIcons();\n                    }\n                });\n            }, 1500);\n        });\n    }\n\n    // --- 8. COOKIES ---\n    function initCookies() {\n        const popup = document.getElementById('cookie-popup');\n        const accept = document.getElementById('cookie-accept');\n\n        if (!popup || !accept) return;\n\n        if (!localStorage.getItem('xtrium_cookies')) {\n            setTimeout(() => {\n                popup.classList.add('is-visible');\n            }, 3000);\n        }\n\n        accept.addEventListener('click', () => {\n            localStorage.setItem('xtrium_cookies', 'true');\n            popup.classList.remove('is-visible');\n        });\n    }\n\n    // ЗАПУСК ЗАГРУЗКИ\n    loadDependencies();\n});"],"names":["loadDependencies","libs","src","resolve","script","initCore","initHeader","initMobileMenu","initHero","initScrollAnimations","initGlowCards","initFloatTools","initContactForm","initCookies","headerWrapper","burger","menu","links","toggleMenu","link","heroTitle","text","card","e","x","y","el","rect","tools","wrapper","tool","i","speed","form","phone","q","a","success","n1","n2","sum","btn","popup","accept"],"mappings":"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"}